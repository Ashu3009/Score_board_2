<!DOCTYPE html>
<html>
<head>
  <title>Admin Timer</title>
</head>
<body>
  <h1>Admin Controls</h1>
  <button onclick="startTimer()">Start</button>
  <button onclick="pauseTimer()">Pause</button>
  <button onclick="resetTimer()">Reset</button>

  <h2>Time Left: <span id="timer">03:00</span></h2>

  <script>
    function formatTime(seconds) {
      let m = Math.floor(seconds / 60);
      let s = seconds % 60;
      return `${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
    }

    function updateTimer() {
      fetch("/timer/get_timer/")
        .then(res => res.json())
        .then(data => {
          document.getElementById("timer").innerText = formatTime(data.time);
        });
    }

    function startTimer() { fetch("/timer/start/").then(() => updateTimer()); }
    function pauseTimer() { fetch("/timer/pause/").then(() => updateTimer()); }
    function resetTimer() { fetch("/timer/reset/").then(() => updateTimer()); }

    setInterval(updateTimer, 1000);
  </script>
</body>
</html>
